<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Luxmax - Braze 교육용 샘플 사이트" />
    <meta name="author" content="" />
    <title>Luxmax</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/favicon.png" />
    <link rel="manifest" href="/manifest.json" />

    <!-- CSS - 비블로킹 로딩 -->
    <link rel="preload" href="css/styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link href="css/styles.css" rel="stylesheet"></noscript>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" media="print" onload="this.media='all'">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.css" media="print" onload="this.media='all'">

    <!-- 즉시 필요한 스크립트만 동기 로딩 -->
    <script src="js/saas.js"></script>

    <!-- 나머지 스크립트는 defer로 비동기 로딩 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.all.min.js" defer></script>
    
    <!-- Amplitude SDK -->
    <script src="https://cdn.amplitude.com/libs/analytics-browser-2.10.0-min.js.gz" defer></script>
    <script src="https://cdn.amplitude.com/libs/session-replay-browser-1.20.1-min.js.gz" defer></script>
    
    <!-- Amplitude 플러그인 -->
    <script src="https://cdn.amplitude.com/script/cf4c439c94d3b0d118d74737fc630588.experiment.js" defer></script>
    <script src="https://cdn.amplitude.com/script/cf4c439c94d3b0d118d74737fc630588.engagement.js" defer></script>
    
    <!-- Amplitude 초기화 (defer 스크립트 로드 후 실행) -->
    <script defer>
        document.addEventListener('DOMContentLoaded', function() {
            // Amplitude 초기화 (API 키는 실제 값으로 변경 필요)
            if (typeof amplitude !== 'undefined') {
                amplitude.init('YOUR_AMPLITUDE_API_KEY', {
                    // 설정
                });
                
                // Engagement 플러그인 추가
                if (typeof window.engagement !== 'undefined') {
                    amplitude.add(window.engagement.plugin());
                }
            }
        });
    </script>

    <!-- Service Worker 등록 (올바른 방법) -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(function(registration) {
                        console.log('Service Worker 등록 성공:', registration.scope);
                    })
                    .catch(function(error) {
                        console.error('Service Worker 등록 실패:', error);
                    });
            });
        }
    </script>
</head>
<body>
    <header>
        <!-- Start Nav -->
        <nav class="navbar navbar-expand-lg navbar-light bg-white" id="navbarCommon">
            <!-- 네비게이션 내용 -->
        </nav>
        <!-- End of the nav -->
    </header>

    <!-- Section -->
    <section class="py-5" id="mainSection" style="margin-top:70px;overflow: hidden;">
        <div id="global-banner-container" style="width: 100%; height: 100%;"></div>
        
        <div class="container px-4 px-lg-5 mt-2">
            <div id="search_result" style="margin-bottom:20px"></div>
            <!-- Products Displaying -->
            <div class="row gx-3 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-3 justify-content-left" id="item_view">
                <!-- 상품 목록이 여기에 동적으로 로드됨 -->
            </div>
        </div>
    </section>

    <center>
        <button class="btn btn-outline-dark"
            style="padding-right:40px; padding-left:40px; margin-right:10px; margin-bottom:80px"
            onclick="window.scrollTo(0,0)">
            최상단으로 이동 <i class="bi bi-arrow-up-circle-fill"></i>
        </button>
    </center>

    <!-- Footer -->
    <footer class="py-5 bg-dark">
        <div class="container">
            <p class="m-0 text-center text-white">Copyright &copy; Luxmax</p>
            <p class="m-0 text-center text-white">
                Logo Design By <a style="color:aliceblue" href="https://www.vecteezy.com/free-vector/lm-logo">Lm Logo Vectors by Vecteezy</a>
            </p>
        </div>
    </footer>

    <!-- 페이지 하단 스크립트 (defer로 비동기 로딩) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" defer></script>
    <script src="js/scripts.js" defer></script>
    <script src="js/main.js" defer></script>
</body>
</html>
